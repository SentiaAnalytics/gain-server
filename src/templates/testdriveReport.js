import React from 'react'


const Logo = () => {
  return (

    <svg 
      width="182" 
      height="89" 
      viewBox="0 0 182 89" 
      style={{fillRule:"evenodd", clipRule:"evenodd", strokeLinejoin:"round", strokeMiterlimit:1.41421}}>
        <path d="M121,18.6c0,3.5 -2.8,6.3 -6.2,6.3c-3.4,0 -6.2,-2.8 -6.2,-6.3c0,-3.5 2.8,-6.3 6.2,-6.3c3.5,0 6.2,2.8 6.2,6.3" style={{fill:"#76b043", fillRule:"nonzero"}}/>
        <path d="M39.3,56.2c1.3,0 2.6,-0.2 3.7,-0.6c1.1,-0.4 2.1,-1 3,-1.8c0.8,-0.8 1.5,-1.7 2,-2.8c0.5,-1.1 0.7,-2.3 0.7,-3.6l0,-0.1c0,-1.3 -0.2,-2.5 -0.7,-3.6c-0.5,-1.1 -1.1,-2 -2,-2.8c-0.8,-0.8 -1.8,-1.4 -3,-1.8c-1.1,-0.4 -2.4,-0.6 -3.7,-0.6c-1.3,0 -2.6,0.2 -3.7,0.6c-1.1,0.4 -2.1,1 -2.9,1.8c-0.8,0.8 -1.5,1.7 -2,2.8c-0.5,1.1 -0.7,2.3 -0.7,3.6l0,0.1c0,2.7 0.9,4.8 2.6,6.4c1.8,1.6 4,2.4 6.7,2.4m-1.3,23.7c-3.1,0 -6.1,-0.3 -9,-1c-2.9,-0.7 -5.5,-1.7 -7.9,-3l3.7,-8.1c2,1.1 4,1.9 6,2.6c2,0.6 4.3,0.9 6.9,0.9c3.7,0 6.5,-0.9 8.2,-2.6c1.8,-1.8 2.7,-4.3 2.7,-7.8l0,-1.9c-1.6,1.9 -3.4,3.5 -5.3,4.5c-1.9,1.1 -4.3,1.6 -7.2,1.6c-2.2,0 -4.4,-0.4 -6.4,-1.2c-2,-0.8 -3.9,-1.9 -5.4,-3.5c-1.6,-1.5 -2.8,-3.4 -3.7,-5.6c-0.9,-2.2 -1.4,-4.7 -1.4,-7.6l0,-0.1c0,-2.9 0.5,-5.4 1.4,-7.6c1,-2.2 2.2,-4.1 3.8,-5.6c1.6,-1.5 3.4,-2.7 5.4,-3.5c2,-0.8 4.2,-1.2 6.3,-1.2c2.9,0 5.4,0.5 7.3,1.6c1.9,1.1 3.6,2.4 5.1,4.1l0,-5l10.8,0l0,29.6c0,6.8 -1.6,11.8 -4.9,15.1c-1.8,1.8 -4.1,3.1 -6.8,3.9c-2.7,1 -5.9,1.4 -9.6,1.4" style={{fill:"#153235",fillRule:"nonzero"}}/>
        <path d="M82.1,61.5c2.6,0 4.6,-0.6 6.2,-1.8c1.5,-1.2 2.3,-2.8 2.3,-4.8l0,-1.9c-1,-0.4 -2,-0.8 -3.2,-1c-1.2,-0.3 -2.4,-0.4 -3.7,-0.4c-2.3,0 -4.2,0.5 -5.5,1.4c-1.3,0.9 -2,2.2 -2,3.9l0,0.1c0,1.5 0.5,2.6 1.6,3.4c1.1,0.7 2.5,1.1 4.3,1.1m-3.3,7.5c-1.8,0 -3.5,-0.2 -5.1,-0.7c-1.6,-0.5 -3,-1.2 -4.2,-2.2c-1.2,-1 -2.1,-2.2 -2.8,-3.7c-0.7,-1.4 -1,-3.1 -1,-5l0,-0.1c0,-2.1 0.4,-3.9 1.1,-5.4c0.8,-1.5 1.8,-2.8 3.2,-3.8c1.4,-1 3,-1.7 4.8,-2.2c1.9,-0.5 4,-0.7 6.2,-0.7c1.9,0 3.6,0.1 5.1,0.4c1.5,0.3 2.9,0.7 4.2,1.1l0,-0.6c0,-2.3 -0.7,-4 -2.1,-5.2c-1.4,-1.2 -3.4,-1.8 -6.1,-1.8c-2.1,0 -3.9,0.2 -5.5,0.5c-1.6,0.4 -3.3,0.9 -5,1.5l-2.7,-8.3c2.1,-0.9 4.3,-1.6 6.6,-2.2c2.3,-0.6 5,-0.9 8.3,-0.9c3,0 5.5,0.4 7.7,1.1c2.1,0.7 3.9,1.8 5.2,3.2c1.4,1.4 2.5,3.2 3.1,5.2c0.7,2.1 1,4.4 1,7l0,22.2l-10.5,0l0,-4.1c-1.3,1.5 -2.9,2.6 -4.8,3.5c-1.7,0.7 -4,1.2 -6.7,1.2" style={{fill:"#153235", fillRule:"nonzero"}}/>
        <rect x="109.9" y="30.1" width="10.8" height="38.2" style={{fill:"#153235"}}/><path d="M129.5,30.1l10.8,0l0,5.5c0.6,-0.8 1.3,-1.6 2,-2.3c0.7,-0.7 1.6,-1.4 2.5,-2c0.9,-0.6 1.9,-1 3,-1.4c1.1,-0.3 2.3,-0.5 3.7,-0.5c4.1,0 7.3,1.3 9.6,3.8c2.3,2.5 3.4,6 3.4,10.4l0,24.7l-10.8,0l0,-21.3c0,-2.6 -0.6,-4.5 -1.7,-5.8c-1.1,-1.3 -2.8,-2 -4.9,-2c-2.1,0 -3.7,0.7 -5,2c-1.2,1.3 -1.8,3.2 -1.8,5.8l0,21.3l-10.8,0l0,-38.2Z" style={{fill:"#153235", fillRule:"nonzero"}}/>
      </svg>
  )
}

const Row = ({children}) => {
  const style = {
    flex: 1,
    display: "flex",
    flexDirection: "row"
  }
  return <div style={style}>{children}</div>
}

const Column = ({children}) => {
  const style = {
    flex: 1,
  }
  return <div style={style}>{children}</div>
}

const Field = ({name, value}) => {
  const style = {
    field: {
      boxSizing: "border-box",
      flex: 1,
      display: "flex",
      flexDirection: "column",
      paddingLeft: 10,
      paddingRight: 10,
      paddingTop: 6,
      paddingBottom: 6,
    },
    label: {
      fontSize: 8,
      fontWeight: 600,
      marginBottom: 3,
      color: "#77B144"
    },
    value: {
      fontSize: 12,
      minHeight: 14,
      color: "#4A4A4A",
      borderBottom: "1px solid #E7E7E7  "
    }
  }
  return (
    <div style={style.field}>
      <span style={style.label}>{name}</span>
      <span style={style.value}>{`${value}`}</span>
    </div>
  )
}

const Section = ({title, children}) => { 
  const style = {
    section: {
      paddingBottom: 10
    },
    header: {
      flex:1,
      display: 'flex',
      flexDirection: "row",
      alignItems: "center",
      borderLeft: "5px solid #E2E2E3",
      height:50,
      backgroundColor: "#F5F5F5"
    },
    content: {
      paddingTop: 5,
      paddingBottom: 5,
      paddingLeft: 56,
      paddingRight: 56,
    },
    title: {
      fontSize: 12,
      marginLeft: 23,
      color: "#9B9B9B"
    }
  }
  return (
    <section style={style.section}>
      <header style={style.header}>
        <h2 style={style.title}>{title}</h2>
      </header>
      <div style={style.content}>
      {children}
      </div>
    </section>
  )
}


const Signature =({signature, name}) => {
  const style = {
    wrapper: {
      display: "flex",
      flexDirection: "column",
      alignItems: "center"
    },
    signature: {
      width: 300,
      marginLeft: "auto",
      marginRight: "auto",
      borderBottom: "1px solid #e7e7e7"
    },
    name: {
      fontStyle: "italic",
      fontSize: 10,
      color: "#393939"
    }
  }

  return (
    <div style={style.wrapper}>
      <img style={style.signature} src={`data:image/png;base64,${signature}`}/>
      <span style={style.name}>{name}</span>
    </div>
  )
}

export default ({testdrive}) => {
  const style = {
    body: {
      fontFamily: "Helvetica",
      backgroundColor: "#D8D8D8",
      paddingTop: 60,
      paddingBottom: 60
    },
    main: {
      backgroundColor: "white",
      boxShadow: "0px 10px 40px rgba(0, 0, 0, 0.3)",
      paddingBottom: 60
    },
    header: {
      paddingTop: 30,
      paddingBottom: 20,
      paddingLeft: 56,
      paddingRight: 56
    },
    title: {
      fontSize: 36,
      color: "#4A4A4A",
      fontWeight: 300,
      marginBottom: 5
    },
    subtitle: {
      margin: 0,
      marginBottom: 40,
      fontSize: 12,
      color: "#393939"
    }
  }
  const {dealership, car, visitor, created_by} = testdrive
  return (
    <html>
      <head>
        <title>Køreseddel</title>
        <style>{`
          @media (min-width: 800px) { 
            main {
              width: 800px;
              margin-left: auto;
              margin-right: auto;
           }
          }
          @media print {
            main {
              box-shadow: none !important;
              width: 100% !important;
              padding: 0 !important;
            }
            section {
              page-break-inside: avoid;
            }
            body {
              padding: 0 !important;
              -webkit-print-color-adjust: exact;
            }
            @page { 
                size: auto;   /* auto is the initial value */ 
            
                /* this affects the margin in the printer settings */ 
                margin: 2mm 0mm 2mm 0mm;  
            } 
          }
        `}
        </style>
      </head>
      <body style={style.body}>
        <main style={style.main}>
          <header style={style.header}>
            <Row>
              <Column>
                <h1 style={style.title}>Køreseddel</h1>
                <p style={style.subtitle}>Erklæring om kørsel med prøveskilte til bil ved demonstration eller prøve i anledning af salg</p>
              </Column>
              <Logo/>
            </Row>
            <Row>
              <Field name="TUR START" value="now"/>
              <Field name="TUR SLUT" value="now"/>
            </Row>
          </header>
          <Section title="Forhandler">
            <Row>
            <Column>
                <Field name="NAVN" value={dealership.name} />
                <Field name="GADE" value={dealership.street} />
                <Row>
                <Field name="NUMMER" value={dealership.houseNumber} />
                <Field name="POSTNUMMER" value={dealership.postcode} />
                </Row>
                <Field name="BY" value={dealership.city} />
                <Field name="LAND" value={dealership.country} />
              </Column>
              <Column>
                <Field name="SÆLGER" value={`${created_by.forenames} ${created_by.lastname}`} />
                <Field name="EMAIL" value={created_by.email} />
              </Column>
            </Row>
          </Section>
          <Section title="Fører">
            <Row>
              <Field name="FORNAVNE" value={visitor.forenames} />
              <Field name="EFTERNAVN" value={visitor.lastname} />
            </Row>
            <Row>
              <Field name="CPR" value={visitor.cpr} />
              <Column/>
            </Row>
            <Row>
              <Field name="EMAIL" value={visitor.email} />
              <Field name="MOBIL" value={visitor.mobile} />
            </Row>
          </Section>
          <Section title="Bil">
            <Row>
              <Field name="MÆRKE" value={car.brand} />
              <Field name="MODEL" value={car.model} />
            </Row>
            <Row>
              <Field name="REGISTRERINGSNUMMER" value={car.licenseplate} />
            </Row>
          </Section>
          <Section title="UNDERSKRIFT">
            <Signature signature={testdrive.signature} name={`${visitor.forenames} ${visitor.lastname}`} />
          </Section>
        </main>
      </body>
    </html>
  )
}